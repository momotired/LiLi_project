<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script>
      var coverSupport = 'CSS' in window && typeof CSS.supports === 'function' && (CSS.supports('top: env(a)') ||
        CSS.supports('top: constant(a)'))
      document.write(
        '<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0' +
        (coverSupport ? ', viewport-fit=cover' : '') + '" />')
    </script>
    <title></title>
    <!--preload-links-->
    <!--app-context-->
  </head>
  <body>
    <div id="app"><!--app-html--></div>
    <script>
      // 路由重写脚本 - 更新的路由映射
      (function() {
        const routeMap = {
          // 认证相关
          '/login': '/#/pages/auth/login',
          '/auth/login': '/#/pages/auth/login',

          // 主页面和仪表板
          '/': '/#/pages/dashboard/home',
          '/main': '/#/pages/dashboard/home',
          '/home': '/#/pages/dashboard/home',
          '/dashboard': '/#/pages/dashboard/home',
          '/dashboard/home': '/#/pages/dashboard/home',

          // 设备管理
          '/devices': '/#/pages/device/list',
          '/device/list': '/#/pages/device/list',
          '/device/add': '/#/pages/device/add',
          '/device/detail': '/#/pages/device/detail',
          '/device/edit': '/#/pages/device/edit',

          // 用户相关
          '/profile': '/#/pages/user/profile',
          '/user/profile': '/#/pages/user/profile',
          '/user': '/#/pages/user/profile',

          // 系统设置
          '/settings': '/#/pages/settings/index',
          '/settings/index': '/#/pages/settings/index',

          // 演示和测试页面
          '/demo/theme': '/#/pages/demo/theme',
          '/theme': '/#/pages/demo/theme',
          '/demo/router-test': '/#/pages/demo/router-test',
          '/router-test': '/#/pages/demo/router-test',

          // 兼容旧路由
          '/index': '/#/pages/dashboard/home',
          '/color-demo': '/#/pages/demo/theme'
        }

        const currentPath = window.location.pathname
        if (routeMap[currentPath]) {
          // 如果当前路径是简洁路由，重定向到hash路由
          window.location.replace(routeMap[currentPath])
        }
      })()
    </script>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
