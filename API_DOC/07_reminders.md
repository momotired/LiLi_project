# 提醒模块 API

## 概述
管理设备相关的提醒功能，包括保修到期提醒、使用年限提醒、价格预警等。

## 接口列表

### 1. 获取提醒列表

**接口描述:** 获取用户的提醒列表

**请求方式:** `GET`

**请求路径:** `/reminders`

**是否需要认证:** 是

**请求参数:**
- `type`: string, 提醒类型(warranty/usage/price/custom), 可选
- `status`: string, 提醒状态(active/triggered/disabled), 可选
- `device_id`: int, 设备ID, 可选
- `page`: int, 页码, 可选, 默认1
- `limit`: int, 每页数量, 可选, 默认10

**业务逻辑:**
1. 获取用户的提醒列表
2. 按类型和状态筛选
3. 分页返回结果
4. 包含提醒详情和关联设备信息

---

### 2. 获取提醒详情

**接口描述:** 获取指定提醒的详细信息

**请求方式:** `GET`

**请求路径:** `/reminders/{reminder_id}`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填

**业务逻辑:**
1. 验证提醒归属权
2. 获取提醒详细信息
3. 返回提醒配置和执行历史

---

### 3. 创建提醒

**接口描述:** 创建新的提醒

**请求方式:** `POST`

**请求路径:** `/reminders`

**是否需要认证:** 是

**请求参数:**
```json
{
  "type": "string, 提醒类型(warranty/usage/price/custom), 必填",
  "device_id": "int, 设备ID, 必填",
  "title": "string, 提醒标题, 必填",
  "description": "string, 提醒描述, 可选",
  "remind_date": "string, 提醒日期(YYYY-MM-DD), 必填",
  "remind_time": "string, 提醒时间(HH:MM), 可选, 默认09:00",
  "advance_days": "int, 提前天数, 可选, 默认7",
  "repeat_type": "string, 重复类型(once/daily/weekly/monthly/yearly), 可选, 默认once",
  "enabled": "bool, 是否启用, 可选, 默认true",
  "notification_methods": "array, 通知方式(push/email/sms), 可选"
}
```

**业务逻辑:**
1. 验证设备归属权
2. 创建提醒记录
3. 设置提醒触发时间
4. 配置通知方式
5. 如果是重复提醒，设置重复规则

---

### 4. 更新提醒

**接口描述:** 更新提醒设置

**请求方式:** `PUT`

**请求路径:** `/reminders/{reminder_id}`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填
- 其他参数同创建提醒接口，均为可选

**业务逻辑:**
1. 验证提醒归属权
2. 更新提醒配置
3. 重新计算触发时间
4. 更新通知设置

---

### 5. 删除提醒

**接口描述:** 删除提醒

**请求方式:** `DELETE`

**请求路径:** `/reminders/{reminder_id}`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填

**业务逻辑:**
1. 验证提醒归属权
2. 删除提醒记录
3. 取消相关通知设置

---

### 6. 启用/禁用提醒

**接口描述:** 启用或禁用提醒

**请求方式:** `PATCH`

**请求路径:** `/reminders/{reminder_id}/status`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填

```json
{
  "enabled": "bool, 是否启用, 必填"
}
```

**业务逻辑:**
1. 验证提醒归属权
2. 更新提醒状态
3. 启用或禁用通知

---

### 7. 获取即将到期的提醒

**接口描述:** 获取即将到期的提醒

**请求方式:** `GET`

**请求路径:** `/reminders/upcoming`

**是否需要认证:** 是

**请求参数:**
- `days`: int, 天数范围, 可选, 默认7

**业务逻辑:**
1. 获取指定天数内的提醒
2. 按时间排序
3. 返回即将到期的提醒列表

---

### 8. 标记提醒已读

**接口描述:** 标记提醒已读

**请求方式:** `POST`

**请求路径:** `/reminders/{reminder_id}/read`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填

**业务逻辑:**
1. 验证提醒归属权
2. 标记提醒为已读
3. 记录读取时间

---

### 9. 延期提醒

**接口描述:** 延期提醒

**请求方式:** `POST`

**请求路径:** `/reminders/{reminder_id}/snooze`

**是否需要认证:** 是

**请求参数:**
- `reminder_id`: int, 提醒ID, 路径参数, 必填

```json
{
  "snooze_duration": "int, 延期时长(分钟), 必填"
}
```

**业务逻辑:**
1. 验证提醒归属权
2. 设置延期时间
3. 重新计算提醒时间

---

### 10. 批量操作提醒

**接口描述:** 批量操作提醒

**请求方式:** `POST`

**请求路径:** `/reminders/batch`

**是否需要认证:** 是

**请求参数:**
```json
{
  "reminder_ids": "array, 提醒ID数组, 必填",
  "action": "string, 操作类型(enable/disable/delete/read), 必填"
}
```

**业务逻辑:**
1. 验证提醒归属权
2. 批量执行指定操作
3. 返回操作结果

---

### 11. 获取提醒统计

**接口描述:** 获取提醒统计信息

**请求方式:** `GET`

**请求路径:** `/reminders/statistics`

**是否需要认证:** 是

**请求参数:**
- `period`: string, 统计周期(month/quarter/year), 可选, 默认month

**业务逻辑:**
1. 统计各类型提醒数量
2. 统计提醒触发率
3. 统计用户响应率
4. 返回统计数据

---

### 12. 自动创建设备提醒

**接口描述:** 根据设备信息自动创建提醒

**请求方式:** `POST`

**请求路径:** `/reminders/auto-create`

**是否需要认证:** 是

**请求参数:**
```json
{
  "device_id": "int, 设备ID, 必填",
  "reminder_types": "array, 提醒类型数组, 必填"
}
```

**业务逻辑:**
1. 验证设备归属权
2. 根据设备信息自动创建提醒
3. 保修提醒：根据保修日期创建
4. 使用年限提醒：根据购买日期和设备类型创建
5. 返回创建的提醒列表 